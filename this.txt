#!/bin/bash

for BLOCKS in 1 4 16 64 256 1024 4096 # loop over problem sizes
   do 
        for THREADS in 32 64 128 256 512 1024
        do
            echo "BLOCKS" >> output.txt
            echo $BLOCKS >> output.txt
            echo "THREADS" >> output.txt
            echo $THREADS >> output.txt
            nvprof ./sobel_gpu $BLOCKS $THREADS >> output.txt
        done
    done

for N in 1 2 4 8 16
    do
    OMP_NUM_THREADS=$N
    echo usingThreads >> output.txt 
    echo $N >> output.txt 
    ./sobel_cpu >> output.txt
done 
